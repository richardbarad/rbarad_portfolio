"0","centroids <- st_centroid(all_census_data)"
"0",""
"0","tod <- centroids[st_intersects(centroids,metro_union_buffer) %>% lengths > 0, ] %>%"
"0","  st_drop_geometry() %>%"
"0","  left_join(all_census_data) %>%"
"0","  st_sf() %>%"
"0","  mutate(type='tod')"
"0",""
"0","non_tod <- centroids[st_disjoint(centroids,metro_union_buffer) %>% lengths > 0, ] %>%"
"0","  st_drop_geometry() %>%"
"0","  left_join(all_census_data) %>%"
"0","  st_sf() %>%"
"0","  mutate(type='non-TOD')"
"0",""
"0","all_census_data <- rbind(tod, non_tod)"
"0",""
"0","tod_dissolve <- st_union(tod)"
"0",""
"0","dcmetro$tod_change[dcmetro$NAME %in% c(""Columbia Heights"",""Georgia Ave-Petworth"",""Brookland-CUA"",""NoMa-Gallaudet U"")] <- 'Yes'"
"0",""
